{% extends "base.html" %}
{% block title %}Checkout - Freshmo Brands ğŸ›’ğŸ’³{% endblock %}
{% block content %}
    <section class="products-section">
        <p><a href="{{ url_for('menus') }}" class="btn-back">Back to Products â¬…ï¸ğŸ›ï¸</a></p>
        <h1>Checkout ğŸ›’ğŸ’³âœ¨</h1>
        <div class="order-container">
            <div class="order-summary">
                <h2>Order Summary ğŸŒŸğŸ“‹</h2>
                <ul>
                    {% for item in cart_items %}
                        <li>{{ item.name }} - R{{ item.amount|floatformat(2) }} x {{ item.quantity }} = R{{ item.total|floatformat(2) }} ğŸ’¸</li>
                    {% endfor %}
                </ul>
                {% if delivery_charge %}
                    <p>Delivery Charge: R{{ delivery_charge|floatformat(2) }} ğŸšš</p>
                {% endif %}
                <p><strong>Total: R{{ total_amount|floatformat(2) }} ğŸ’³</strong></p>
            </div>
            <form method="POST" action="{{ url_for('checkout') }}" class="checkout-form">
                <label for="name">First Name * ğŸ‘¤</label>
                <input type="text" id="name" name="name" value="{{ remembered_customer.name if remembered_customer else '' }}" required>
                <label for="phone">Phone Number * ğŸ“</label>
                <input type="tel" id="phone" name="phone" value="{{ remembered_customer.phone if remembered_customer else '' }}" required>
                <label for="address">Delivery Address * ğŸ </label>
                <input type="text" id="address" name="address" value="{{ remembered_customer.address if remembered_customer else '' }}" required>
                <label for="special_note">Special Note (Optional) ğŸ“</label>
                <textarea id="special_note" name="special_note"></textarea>
                <label for="payment_method">Payment Method * ğŸ’³</label>
                <select id="payment_method" name="payment_method" required>
                    <option value="Cash on Collection">Cash on Collection ğŸ’µ</option>
                    <option value="Cash on Delivery">Cash on Delivery ğŸšš</option>
                    <option value="EFT">EFT ğŸ¦</option>
                    <option value="Instant Cash">Instant Cash âš¡</option>
                    <option value="In-App (coming soon)" disabled>In-App (coming soon) ğŸ“±</option>
                </select>
                <label for="delivery_type">Delivery Type * ğŸš›</label>
                <select id="delivery_type" name="delivery_type" required>
                    <option value="Delivery" {% if remembered_customer.delivery_type == 'Delivery' %}selected{% endif %}>Delivery ğŸšš</option>
                    <option value="Collection" {% if remembered_customer.delivery_type == 'Collection' %}selected{% endif %}>Collection ğŸ¬</option>
                    <option value="PEP Stores" {% if remembered_customer.delivery_type == 'PEP Stores' %}selected{% endif %}>PEP Stores ğŸª</option>
                    <option value="Courier" {% if remembered_customer.delivery_type == 'Courier' %}selected{% endif %}>Courier ğŸ“¦</option>
                </select>
                <label>
                    <input type="checkbox" name="remember" {% if remembered_customer %}checked{% endif %}>
                    Remember my details for next time âœ…
                </label>
                <button type="submit" class="btn">Place Order ğŸš€ğŸ‰</button>
            </form>
        </div>
        <p><a href="{{ url_for('menus') }}" class="btn-back">Back to Products â¬…ï¸ğŸ›ï¸</a></p>
    </section>
{% endblock %}